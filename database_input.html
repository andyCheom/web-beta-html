




<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="images/mymailer/mymailer_favicon.ico">
<title>Mymailer 6.0</title>
<link href="inspinia/css/bootstrap.min.css" rel="stylesheet">
<link href="inspinia/font-awesome/css/font-awesome.css" rel="stylesheet">
<link href="inspinia/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">


<link href="inspinia/mymailer_css/animate.css" rel="stylesheet">
<link href="inspinia/mymailer_css/style.css" rel="stylesheet">
<link href="inspinia/vendor/cheom.css" rel="stylesheet">
<link href="inspinia/vendor/style_mymailer.css" rel="stylesheet">
<!-- ëëê·¸ ì¤ ëë -->
<link href="inspinia/css/plugins/dropzone/dropzone.css" rel="stylesheet">
<script src="inspinia/js/plugins/dropzone/dropzone.js"></script>
<!-- ---------- wrapbootstrap ---------- -->
<script src="inspinia/js/jquery-3.1.1.min.js"></script>
<script src="inspinia/js/bootstrap.min.js"></script>
<script src="inspinia/js/plugins/metisMenu/jquery.metisMenu.js"></script>
<!-- SlimScroll ì¼ìª½ ë©ë´ ê³ ì  -->
<script src="inspinia/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<!-- Custom and plugin javascript -->
<script src="inspinia/js/inspinia.js"></script>
<script src="inspinia/js/plugins/pace/pace.min.js"></script>
<!-- FooTable -->
<link href="inspinia/css/plugins/footable/footable.bootstrap.css" rel="stylesheet">
<script src="inspinia/js/plugins/footable/footable.js"></script>
<!-- Ladda style -->
<link href="inspinia/css/plugins/ladda/ladda-themeless.min.css" rel="stylesheet">
<script src="inspinia/js/plugins/ladda/spin.min.js"></script>
<script src="inspinia/js/plugins/ladda/ladda.min.js"></script>
<script src="inspinia/js/plugins/ladda/ladda.jquery.min.js"></script>
<!-- Tokeninput -->
<link href="inspinia/css/plugins/tokeninput/token-input.css" rel="stylesheet" />
<script src="inspinia/js/plugins/tokeninput/jquery.tokeninput.js"></script>
<!-- Comma -->
<script src="inspinia/js/plugins/vendor/comma.js"></script>
<!-- Jasny file upload -->
<link href="inspinia/css/plugins/jasny/jasny-bootstrap.min.css" rel="stylesheet">
<script src="inspinia/js/plugins/jasny/jasny-bootstrap.min.js"></script>
<!-- Data picker -->
<link href="inspinia/vendor/plugins/datepicker/css/bootstrap-datepicker.css" type="text/css" rel="stylesheet">
<script src="inspinia/vendor/plugins/datepicker/js/bootstrap-datepicker.js"></script>
<script src="inspinia/vendor/plugins/datepicker/js/bootstrap-datepicker.ko.js" charset="UTF-8"></script>
<!-- Select2 -->
<link href="inspinia/css/plugins/select2/select2.min.css" rel="stylesheet">
<script src="inspinia/js/plugins/select2/select2.full.min.js"></script>
<!-- Summber note -->
<link href="inspinia/css/plugins/summernote/summernote.css" rel="stylesheet">
<link href="inspinia/css/plugins/summernote/summernote-bs3.css" rel="stylesheet">
<script src="inspinia/js/plugins/summernote/summernote.min.js"></script>
<script src="inspinia/js/plugins/summernote/summernote-ko-KR.js"></script>
<script src="inspinia/js/plugins/summernote/summernote-image-attributes.js"></script>
<script src="inspinia/js/plugins/summernote/lang/ko-KR.js"></script>
<!-- Chart.js -->
<script src="inspinia/js/plugins/chartJs/Chart.min.js"></script>
<!-- Toast.js -->
<link href="inspinia/css/plugins/toast/jquery.toast.min.css" rel="stylesheet">
<script src="inspinia/js/plugins/toast/jquery.toast.min.js"></script>
<!-- Fromajax -->
<script src="inspinia/vendor/plugins/formajax/jquery.form.min.js"></script>
<!-- Tooltip -->
<link href="inspinia/css/plugins/tooltipster/tooltipster.bundle.min.css" rel="stylesheet">
<script src="inspinia/js/plugins/tooltipster/tooltipster.bundle.min.js"></script>
<!-- Calendar -->
<link href="inspinia/css/plugins/fullcalendar/fullcalendar.css" rel="stylesheet">
<script src="inspinia/js/plugins/fullcalendar/moment.min.js"></script>
<script src="inspinia/js/plugins/fullcalendar/fullcalendar.min.js"></script>
<script src="inspinia/js/plugins/fullcalendar/locale-all.js"></script>
<!-- Dual List Box -->
<link href="inspinia/vendor/plugins/duallistbox/css/bootstrap-duallistbox.min.css" rel="stylesheet">
<script src="inspinia/vendor/plugins/duallistbox/js/jquery.bootstrap-duallistbox.min.js"></script>
<!-- Validate -->
<script src="inspinia/vendor/plugins/validate@1.19.3/jquery.validate.min.js"></script>
<script src="inspinia/vendor/plugins/validate@1.19.3/additional-methods.min.js"></script>
<!-- MultiFile -->
<script src="inspinia/vendor/plugins/multifile/jquery.MultiFile.min.js"></script>
<!-- ---------- wrapbootstrap ---------- -->
<script src="inspinia/js/plugins/vendor/fastclick.js"></script>
<script src="inspinia/js/plugins/vendor/jquery.maskedinput-1.4.1.min.js"></script>
<script src="inspinia/js/plugins/vendor/jquery.priceformat.js"></script>
<!-- ê°ë°í¨ì -->
<script src="inspinia/js/bsScript.js"></script>
</head>
<body>
	<div id="wrapper">

		

			
			
				<!-- menu ìì -->
				






<nav class="navbar-default navbar-static-side" role="navigation">
	<div class="sidebar-collapse">
		<ul class="nav metismenu" id="side-menu">
			<li class="nav-header">
				<div class="dropdown profile-element">
					<span><img alt="image" src="images/mymailer/logo.png"></span>
				</div>
				<div class="logo-element">
					<img src="images/mymailer/logo_s.png" class="img-responsive">
				</div>
			</li>

			
			

			
			
			
			

			

				
					<!-- 홈 -->
					<li class=""><a href="/home"> <i class="fa fa-th-large"></i> <span class="nav-label">홈</span></a></li>
				

				

				

				

				

				

				

				

				
					
				

				
					
				
			

				

				
					<!-- 주소록 -->
					
					
					
					
					
					
					
					
					
						
					
						
					
						
					
						
					
						
					
					<li class=""><a href="#"> <i class="fa fa-address-book-o"></i> <span class="nav-label">주소록</span><span class="fa arrow"></span>
					</a>
						<ul class="nav nav-second-level collapse">
							<li class=""><a href="/target/list/1">전체 주소록</a></li>
							<li class=""><a href="/reject/list1/1">수신 거부자</a></li>
							<li class=""><a href="/reject/list2/1">영구 실패자</a></li>
						</ul></li>
				

				

				

				

				

				

				

				
					
				

				
					
				
			

				

				

				
					<!-- 대량메일 -->
					
					
					
					
					
					
					
					
						
					
						
					
						
					
						
					
					<li class=""><a href="#"> <i class="fa fa-envelope"></i> <span class="nav-label">대량메일</span><span class="fa arrow"></span>
					</a>
						<ul class="nav nav-second-level collapse">
							<li class=""><a href="/compose/1/0">이메일</a></li>
							
								<li class=""><a href="/compose/massive/list/1">API 연동 목록</a></li>
							
						<li class=""><a href="/template/list/1">디자인 템플릿</a></li>

					</ul>
				</li>
				

				

				

				

				

				

				
					
				

				
					
				
			

				

				

				

				

				

				

				

				

				
					
				

				
					
				
			

				

				

				

				
					<!-- 보고서 -->
					
					
					
					
					
					
					
					
					
						
					
						
					
						
					
						
					
						
					
					<li class=""><a href="#"> <i class="fa fa-signal"></i> <span class="nav-label">보고서</span><span class="fa arrow"></span>
					</a>
						<ul class="nav nav-second-level collapse">
							<li class=""><a href="/email/email/list/1">발송 목록</a></li>
							<li class=""><a href="/email/compare/list/1">비교분석</a></li>
							<li class=""><a href="/email/month/list/1">월간보고서</a></li>
							<li class=""><a href="/email/status/list/1">현황 보고서</a></li>
						</ul></li>
				

				

				

				

				

				
					
				

				
					
				
			

				

				

				

				

				
					<!-- 자동 메일 -->
					
					
					
					
					
					
					
						
					
						
					
						
					
					<li class=""><a href="#"> <i class="fa fa-paper-plane"></i> <span class="nav-label">자동메일</span><span class="fa arrow"></span>
					</a>
						<ul class="nav nav-second-level collapse">
							<li class=""><a href="/event/event/list/1">연동 목록</a></li>
							<li class=""><a href="/event/target/list/1">수신자</a></li>
						</ul></li>
				

				

				

				

				
					
				

				
					
				
			

				

				

				

				

				

				
					<!-- 인보이스 대량전송 -->
					
					
					
					
					
					
					
						
					
						
					
						
					
					<li class=""><a href="#"> <i class="fa fa-money"></i> <span class="nav-label">인보이스 대량전송</span><span class="fa arrow"></span>
					</a>
						<ul class="nav nav-second-level collapse">
							<li class=""><a href="/invoice/compose/step/compose">메일 발송</a></li>
							<li class=""><a href="/invoice/invoice/list/1">메일 목록</a></li>
						</ul></li>
				

				

				

				
					
				

				
					
				
			

				

				

				

				

				

				

				
					<!-- SMTP 연동 -->
					
					
					
					
					
					
						
					
						
					
					<li class=""><a href="#"> <i class="fa fa-envelope"></i> <span class="nav-label">SMTP 연동</span><span class="fa arrow"></span></a>
						<ul class="nav nav-second-level collapse">
							<li class=""><a href="/smtp/list/1">발송 목록</a></li>
							<li class=""><a href="/smtp/summary/1">발송 요약</a></li>
						</ul></li>
				

				

				
					
				

				
					
				
			

				

				

				

				

				

				

				

				
					<!-- 대용량 파일 첨부 관리 -->
					
					
					
					
					
						
					
					<li class=""><a href="/attachments/list/1"> <i class="fa fa-folder-open"></i> 대용량 파일 첨부관리
					</a>
				

				
					
				

				
					
				
			

				

				

				

				

				

				

				

				

				
					
				

				
					
				
			

				

				

				

				

				

				

				

				

				
					
				

				
					
				
			

				

				

				

				

				

				

				

				

				
					
				

				
					
				
			

				

				

				

				

				

				

				

				

				
					
						<!-- 환경 설정 -->
						
						
						
						
						
						
						
						
						
						
							
						
							
								
								
							
						
							
						
							
						
							
						
							
						
						<li class="active"><a href="#"> <i class="fa fa-desktop"></i> <span class="nav-label">환경 설정</span><span class="fa arrow"></span>
						</a>
							<ul class="nav nav-second-level collapse">
								<li class=""><a href="/board/list/1">공지사항</a></li>
								<li class=""><a href="/campaigngroup/list/1">캠페인 그룹</a></li>
								<li class="active"><a href="/database/list/1">외부 DB</a></li>
								<li class=""><a href="/emailcorrection/list/1">이메일 오타수정</a></li>
								<li class=""><a href="/user/list/1">계정관리</a></li>

							</ul></li>
					
				

				
					
						<!-- 시스템 환경 설정 -->
						
						
						
						
						
						
						
						
						
						
							
						
							
						
							
						
							
						
							
						
							
						
						<li class=""><a href="#"> <i class="fa fa-cog"></i> <span class="nav-label">시스템 환경 설정</span><span class="fa arrow"></span>
						</a>
							<ul class="nav nav-second-level collapse">

								<li class=""><a href="/group/list/1">계정 그룹 관리</a></li>
								<li class=""><a href="/config/list/1">시스템 환경 설정</a></li>
								<li class=""><a href="/event/settings/list/1">자동 메일 환경 설정</a></li>
								<li class=""><a href="/helodomain/list/1">발신 도메인 설정</a></li>
								<li class=""><a href="/domainconfig/list/1">수신 도메인 설정</a></li>
								<li class=""><a href="/dkim/list/1">DKIM 제외 도메인 설정</a></li>
							</ul></li>
					
				
			

			<li class="landing_link bottom" style="padding-top: 30px"><a target="_blank" href="https://mymailer.io/board/notice"><i class="fa fa-star"></i> <span class="nav-label">고객센터</span> <span class="label label-warning float-right">HELP</span></a></li>
		</ul>
	</div>
</nav>
				<!-- menu ë -->
				<div id="page-wrapper" class="gray-bg">
					<!-- header ìì -->
					



<!-- Header 시작 -->
<div class="row border-bottom">
	<nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0">
		<div class="navbar-header">
			
				
				
					<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
					<div class="minimalize-styl-2" style="margin-left: 0px">
						
							<strong>외부 DB</strong>
						
					</div>
				

			
		</div>
		<ul class="nav navbar-top-links navbar-right">
			<!-- 회원 권한이 없을 때 -->
			
				<!--li>회원가입</li>
					<li>로그인</li-->
			

			<!-- 회원 권한이 있을 때 -->
			
				
				
					
						<li><span class="m-r-sm text-muted welcome-message">admin(su) (SUPER ADMIN:ADMIN)</span></li>
					
					
				
				<li><a href="/logout"> <i class="fa fa-sign-out"></i> Log out
				</a></li>
			

			<!-- 여러 권한 체크 -->
			
		</ul>

	</nav>
</div>
<!--div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-10">
		<h5>title.database.input</h5>
		<ol class="breadcrumb" style="padding-top: 20px">
			<li class="active"><strong>title.database.input</strong></li>
		</ol>
	</div>
	<div class="col-lg-2"></div>
</div-->
<!-- Header 끝 -->

<!-- 내용 -->
					<!-- header ë -->
					<!-- body ìì -->
					<div class="wrapper wrapper-content animated fadeIn">
						



<div class="row">
	<div class="col-sm-12">
		<div class="ibox float-e-margins">
			<div class="ibox-title">
				<h5>외부 DB &gt; 추가</h5>
			</div>
			<form id="input" class="form-horizontal" action="/database/insert" method="post" enctype="multipart/form-data">
				<input id="id" name="id" type="hidden" value=""/>
				<div class="ibox-content">
					<div class="form-group">
						<label class="col-sm-2 control-label">이름</label>
						<div class="col-sm-10">
							<input id="name" name="name" class="form-control" type="text" value=""/>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label">메모</label>
						<div class="col-sm-10">
							<input id="description" name="description" class="form-control" type="text" value=""/>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label">인코딩</label>
						<div class="col-sm-10">
							<div class="radio radio-inline">
								<input id="dbEncondingY" name="dbEnconding" type="radio" value="Y" checked="checked"/>
								<label for="dbEncondingY">예</label>
							</div>
							<div class="radio radio-inline">
								<input id="dbEncondingN" name="dbEnconding" type="radio" value="N"/>
								<label for="dbEncondingN">아니오</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label">데이터베이스 종류</label>
						<div class="col-sm-10">
							<select id="driverName" name="driverName" class="form-control" onchange="db(true)">
								<option value="">==선택==</option>
								
									<option value="org.postgresql.Driver">PostgreSQL</option>
								
									<option value="com.mysql.jdbc.Driver">MySQL</option>
								
									<option value="net.sourceforge.jtds.jdbc.Driver">MSSQLJTDS</option>
								
									<option value="com.microsoft.sqlserver.jdbc.SQLServerDriver">MSSQL</option>
								
									<option value="oracle.jdbc.driver.OracleDriver">Oracle</option>
								
							</select>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label">데이터베이스 접속 주소</label>
						<div class="col-sm-10">
							<input id="dbUrl" name="dbUrl" class="form-control" type="text" value=""/>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label"></label>
						<div class="col-sm-10">
							<input type="text" id="dbUrlExample" class="form-control" readonly />
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-2 control-label">데이터베이스 계정</label>
						<div class="col-sm-3">
							<input id="dbId" name="dbId" class="form-control" type="text" value=""/>
						</div>
						<label class="col-sm-2 control-label">데이터베이스 비밀번호</label>
						<div class="col-sm-3">
							<input id="dbPass" name="dbPass" class="form-control" type="password" value=""/>
						</div>
						<div class="col-sm-2">
							<button type="button" class="btn btn-sm btn-success" onclick="query()">
								확인
							</button>
						</div>
					</div>
				</div>
				<div class="ibox-content text-right">
					<button type="submit" class="btn btn-sm btn-primary">
						입력
					</button>
				</div>
			<div>
</div></form>
		</div>
	</div>
</div>

<script type="text/javascript">
	function load() {

		$("#input").validate({

			rules : {

				name : {
					required : true
				},
				description : {
					required : false
				},
				dbUrl : {
					required : true
				},
				dbId : {
					required : true
				},
				dbPass : {
					required : true
				}
			},
			messages : {

				name : {
					required : "이름을 입력해 주세요!"
				},
				description : {
					required : "설명을 입력해 주세요!"
				},
				dbUrl : {
					required : "데이터베이스 접속 주소를 입력해 주세요!"
				},
				dbId : {
					required : "데이터베이스 계정을 입력해 주세요!"
				},
				dbPass : {
					required : "데이터베이스 비밀번호를 입력해 주세요!"
				}
			},
			submitHandler : function(form) {

				form.submit();
			}
		});

		db(false);
	}

	function db(check) {

		var urls = [];

		
		urls["PostgreSQL"] = "jdbc:postgresql://[ServerIP]/[DBNAME]";
		
		urls["MySQL"] = "jdbc:mysql://[ServerIP]:3306/[DBNAME]?useUnicode=true&characterEncoding=UTF-8&useSSL=false&serverTimezone=UTC";
		
		urls["MSSQLJTDS"] = "jdbc:jtds:sqlserver://127.0.0.1:1433/dbname";
		
		urls["MSSQL"] = "jdbc:sqlserver://127.0.0.1:1433/dbname";
		
		urls["Oracle"] = "jdbc:oracle:thin:@[ServerIP]:1521:[SID]";
		

		if (check) {
			$("#dbUrl").val(urls[$("#driverName option:selected").text()]);
		}
		$("#dbUrlExample").val(urls[$("#driverName option:selected").text()]);
	}

	// 접속 확인
	function query() {

		var querystring = $("form[id=input]").serialize();

		$.ajax({
			type : "post",
			url : "/database/ajax/check",
			data : querystring,
			dataType : "json",
			success : function(response) {

				var result = JSON.parse(JSON.stringify(response));

				if (result.result != "-1") {

					$.toast({
						text : "데이터베이스의 버젼은 " + result.message + "입니다.",
						position : "bottom-right",
						stack : false,
						icon : "info"
					});
				} else {

					$.toast({
						text : "오류가 발생하였습니다!<br>" + result.message,
						position : "bottom-right",
						stack : false,
						icon : "error",
						hideAfter : 10000
					});
				}
			},
			error : function(jqXHR, textStatus, errorThrown) {

				console.log(jqXHR.status);
				console.log(jqXHR.statusText);
				console.log(jqXHR.responseText);
				console.log(jqXHR.readyState);

				$.toast({
					text : "통신 중 오류가 발생하였습니다!",
					position : "bottom-right",
					stack : false,
					icon : "error"
				});
			}
		});
	}
</script>
					</div>
					<!-- body ë -->
				</div>
				<!-- footer ìì -->
				
				<!-- footer ë -->
			

			

		

		

	</div>
	<script type="text/javascript">
		$().ready(function() {

			load();
			 
			alignVertical();
		});
		
		function alignVertical() {
			
		    $('.align-vertical').each(function() {
		        var that = $(this);
		        var height = that.height();
		        var parentHeight = that.parent().height();
		        var padAmount = (parentHeight / 2) - (height/2);
		        that.css('padding-top', padAmount);
		    });   
		}
		function removeComma(value) {
	
			if (typeof value == "string") {
				return Number(value.replace(/,/g, ""));
			}
			return Number(value)
		}
		
		function dateFormat (date, fstr, utc) {
			
			utc = utc ? 'getUTC' : 'get';
			return fstr.replace (/%[YmdHMS]/g, function (m) {
				switch (m) {
					case '%Y': return date[utc + 'FullYear'] (); // no leading zeros required
					case '%m': m = 1 + date[utc + 'Month'] (); break;
					case '%d': m = date[utc + 'Date'] (); break;
					case '%H': m = date[utc + 'Hours'] (); break;
					case '%M': m = date[utc + 'Minutes'] (); break;
					case '%S': m = date[utc + 'Seconds'] (); break;
					default: return m.slice (1); // unknown code, remove %
				}
				// add leading zero if required
				return ('0' + m).slice (-2);
			});
		}
	</script>
</body>
</html>